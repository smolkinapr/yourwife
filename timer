<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Таймер 30 минут</title>
</head>
<body style="margin:0; display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; font-family:sans-serif; text-align:center; background:#fff; color:#000;">
  <h1 style="font-size:3vw; margin-bottom:20px;">
    Жена в опасности. Срочно принесите вкусняшки.
  </h1>
  <div id="timer" style="font-size:15vw; font-family:monospace;">
    30:00
  </div>

  <script>
  const DURATION = 30 * 60 * 1000; // 30 минут в миллисекундах
  const STORAGE_KEY = "timerStartTime";

  // если есть сохранённое время старта — берём его, иначе создаём новое
  let startTime = localStorage.getItem(STORAGE_KEY);
  if (!startTime) {
    startTime = Date.now();
    localStorage.setItem(STORAGE_KEY, startTime);
  } else {
    startTime = parseInt(startTime, 10);
  }

  function updateTimer() {
    const elapsed = Date.now() - startTime;
    const remaining = Math.max(0, DURATION - elapsed);

    const totalSeconds = Math.floor(remaining / 1000);
    const minutes = String(Math.floor(totalSeconds / 60)).padStart(2, '0');
    const seconds = String(totalSeconds % 60).padStart(2, '0');
    document.getElementById('timer').textContent = `${minutes}:${seconds}`;

    if (remaining <= 0) {
      clearInterval(timerInterval);
      localStorage.removeItem(STORAGE_KEY); // сбросить при окончании
    }
  }

  updateTimer();
  const timerInterval = setInterval(updateTimer, 1000);
  </script>
</body>
</html>
